function debounce(a,e){let t;return function(...n){clearTimeout(t),t=setTimeout(()=>{a(...n)},e)}}function fetchData(){const a=new URLSearchParams(filtroTablas).toString();window.location.search=a}function initFilters(){let a=document.getElementById("select-tipoentrada");a.value=filtroTablas.te,a.addEventListener("change",function(a){filtroTablas.te=parseInt(a.target.value,10),debouncedFetchData()});let e=document.getElementById("select-tiporeporte");e.value=filtroTablas.tr,e.addEventListener("change",function(a){filtroTablas.tr=parseInt(a.target.value,10),debouncedFetchData()});let t=document.getElementById("select-status");t.value=filtroTablas.e,t.addEventListener("change",function(a){filtroTablas.e=parseInt(a.target.value,10),debouncedFetchData()});let n=document.getElementById("select-oficina");n.value=filtroTablas.o,n.addEventListener("change",function(a){filtroTablas.o=parseInt(a.target.value,10),debouncedFetchData()})}function mostrarMapa(a,e){console.dir(a,e),modalMapa.show(),maps.addMarker(a,e)}var filtroTablas={te:void 0,tr:void 0,e:void 0,o:void 0};const debouncedFetchData=debounce(fetchData,750);let modalMapa=void 0;var maps={map:void 0,default_lat:19.922385,default_lon:-96.826112,init:(a,e)=>{let t=!1;if(a&&e){t=!0;var n=new google.maps.LatLng(a,e),o=17}else n=new google.maps.LatLng(maps.default_lat,maps.default_lon),o=7;n=a&&e?new google.maps.LatLng(a,e):new google.maps.LatLng(maps.default_lat,maps.default_lon);var l={center:n,zoom:o,scrollwheel:!1,mapId:"eticket_reportes_map_id"};if(maps.map=new google.maps.Map(document.getElementById("mapa"),l),t){const a=new google.maps.marker.AdvancedMarkerElement({map:maps.map,position:n,title:""});a.setMap(maps.map)}},addMarker:(a,e)=>{maps.map&&maps.map.markers?(maps.map.markers.forEach(a=>a.setMap(null)),maps.map.markers=[]):maps.map.markers=[];const t=new google.maps.marker.AdvancedMarkerElement({map:maps.map,position:new google.maps.LatLng(a,e),title:""});t.setMap(maps.map),maps.map.markers.push(t),maps.map.setCenter(new google.maps.LatLng(a,e)),maps.map.setZoom(14)}};jQuery(document).ready(function(){maps.init(null,null),modalMapa=new bootstrap.Modal(document.getElementById("mapa-modal")),$("table.reportes-table").DataTable({paging:!0,ordering:!1,scrollX:!0,scrollY:420,fixedColumns:{right:1},buttons:["copy","excel","pdf"],layout:{topStart:"buttons"},language:{url:"https://cdn.datatables.net/plug-ins/2.3.4/i18n/es-MX.json"}}),filtroTablas.te=currentTipoEntrada,filtroTablas.tr=currentTipoReporte,filtroTablas.e=currentEstatus,filtroTablas.o=curtentOficina,initFilters()});