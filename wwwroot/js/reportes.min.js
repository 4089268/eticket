function displayMenu(){$("#form-section").load("/reportes/partial-view/menu")}function displayForm(e){currentReportTypeId=e;const o=`/reportes/partial-view/formulario?tipoReporteId=${e}`;$("#body-modal").load(o,null,onFormularioLoadedCompleted)}function displayTable(){const e="/reportes/partial-view/ultimos-reportes";$("#table-section").load(e)}function onFormularioLoadedCompleted(e,o,t){$("#Observaciones").trumbowyg({svgPath:"../img/svg/icons.svg",btns:[["formatting"],["strong","em","del"],["superscript","subscript"],["link"],["base64"],["justifyLeft","justifyCenter","justifyRight","justifyFull"],["unorderedList","orderedList"],["emoji"]]}),$("#nuevoReporteForm").on("submit",submitNuevoReporte),modal.show()}function submitNuevoReporte(e){e.preventDefault();const o="/reportes",t="POST",r=$(e.target);$("span.text-danger").text(""),$.ajax({url:o,type:t,data:r.serialize(),success:function(e){modal.hide();var{folio:o}=e;Swal.fire({title:"Reporte almacenado",text:`Folio: ${o}`,icon:"success",confirmButtonText:"Aceptar"}).then(e=>{window.location.reload()})},error:function(e,o,t){if(console.error(e,t),422==e.status){const{errors:o}=e.responseJSON;o.forEach(e=>{const o=$(`span[data-valmsg-for="${e.field}"]`);o.text(e.message)})}else{let o="Error no controlado al registrar la entrada";if(e.responseJSON){const{title:t}=e.responseJSON;t&&(o=t)}Swal.fire({title:o,icon:"error"})}}})}jQuery(document).ready(function(){displayMenu(),displayTable(),document.getElementsByClassName("nuevo-reporte-modal").length&&(modal=new bootstrap.Modal(document.getElementById("nuevo-reporte-modal")))});